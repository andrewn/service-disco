<!DOCTYPE html>
<html>
  <head>    
    <link rel="stylesheet" type="text/css" href="lib/pure.min.css">
    <link rel="stylesheet" type="text/css" href="lib/grids-responsive-min.css">
    <link rel="stylesheet" type="text/css" href="app.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body class="pure-g">
    <header class="pure-u-5-5">
      <div class="pure-g">
        <div class="panel pure-u-4-5">
          <img class="icon disco" src="disco.svg" />
          <img class="icon dancer" src="icon.svg" />
          <h1>
            Service 
            <span><span class="d trans-col">D</span><span class="i trans-col">i</span><span class="s trans-col">s</span><span class="c trans-col">c</span><span class="o trans-col">o</span></span>very
          </h1>
          <div class="buttons">
            <button class="pure-button pure-button-primary button-xsmall" on-click="scan">
              Scan
            </button>
          </div>
        </div>
      </div>
    </header>
    <div id="container" class="pure-u-5-5"></div>

    <script id='template' type='text/ractive'>
      <table class="pure-table pure-table-striped">
        <thead>
          <tr>
            <th class="sortable {{ sortColumn == 'state' ? 'sorted' : ''  }}" 
                on-click="sort:state">State</th>
            <th class="sortable {{ sortColumn == 'protocol' ? 'sorted' : '' }}" 
                on-click="sort:protocol">Protocol</th>
            <th class="sortable {{ sortColumn == 'id' ? 'sorted' : ''     }}" 
                on-click="sort:id">ID</th>
            <th class="sortable {{ sortColumn == 'type' ? 'sorted' : ''   }}" 
                on-click="sort:type">Type</th>
            <th class="sortable {{ sortColumn == 'server' ? 'sorted' : '' }}" 
                on-click="sort:server">Server</th>
            <th class="sortable {{ sortColumn == 'timestamp' ? 'sorted' : '' }}" 
                on-click="sort:timestamp">Last seen</th>
            <th class="sortable {{ sortColumn == 'location' ? 'sorted' : '' }}" 
                on-click="sort:location">Location</th>
          </tr>
        </thead>
        <tbody>
        {{# sort(services, sortColumn, sortDirection) }}
          <tr class="{{state}}">
            <td>{{ state }}</td>
            <td>{{ protocol }}</td>
            <td class="restrict">{{ id }}</td>
            <td>{{ type }}</td>
            <td>{{ server }}</td>
            <td><time datetime={{ timestamp }}>{{ time(timestamp) }}</time></td>
            <td>{{location}}</td>
          </tr>
        {{/services}}
        </tbody>
      </table>
    </script>

    <script src='lib/ractive.js'></script>
    <script src='lib/lodash.min.js'></script>
    <script src='lib/moment.min.js'></script>
    <script src='lib/xhr.js'></script>
    <script src='lib/es6-promise.js'></script>
    <script src='app.js'></script>
  </body>
</html>